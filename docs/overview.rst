Обзор проекта
=============

Цель проекта
------------

Разработать полнофункциональный Telegram-бот для записи клиентов к мастерам с системой управления услугами, 
расписанием и платежами. Все взаимодействие происходит через интерфейс Telegram.

Основные функции
----------------

Функционал для мастеров
~~~~~~~~~~~~~~~~~~~~~~~

* **Профиль мастера**: Создание и управление профилем мастера
* **Управление услугами**: Создание, редактирование, удаление и скрытие услуг
* **Гибкое расписание**: 
  - Настройка еженедельного расписания по дням недели
  - Установка выходных дней
  - Индивидуальное расписание для конкретных дней месяца
* **Записи клиентов**: Просмотр всех записей, завершение записей
* **Платежи**: Выставление чеков через Telegram Bot Payments
* **Коммуникация**: Прямые ссылки для связи с клиентами

Функционал для клиентов
~~~~~~~~~~~~~~~~~~~~~~~

* **Просмотр услуг**: По уникальной ссылке мастера
* **Запись на услугу**: 
  - Выбор даты через календарь
  - Выбор времени из доступных слотов
  - Автоматическая проверка доступности
* **Мои записи**: Просмотр всех своих записей у разных мастеров
* **Отмена записи**: Отмена записи клиентом (не менее чем за 2 часа до начала)
* **Оплата**: Получение и оплата счетов через Telegram

Технический стек
----------------

* **Язык программирования**: Python 3.x
* **Telegram Bot API**: python-telegram-bot 20.7
* **База данных**: SQLite с SQLAlchemy ORM
* **Планировщик**: APScheduler для уведомлений
* **Платежи**: Telegram Bot Payments (FreedomPay KG)

Архитектура
-----------

Проект организован в модульную структуру:

.. code-block:: text

   master-session/
   ├── bot/
   │   ├── main.py              # Точка входа
   │   ├── config.py            # Конфигурация
   │   ├── database.py          # Работа с БД
   │   ├── models.py            # Модели данных
   │   ├── handlers/            # Обработчики
   │   │   ├── common.py       # Общие команды
   │   │   ├── master.py       # Для мастеров
   │   │   ├── client.py       # Для клиентов
   │   │   └── invoice.py       # Платежи
   │   └── utils/              # Утилиты
   │       ├── calendar.py     # Календари
   │       ├── schedule.py      # Расписание
   │       ├── notifications.py # Уведомления
   │       └── payments.py      # Платежи
   ├── run.py                  # Скрипт запуска
   └── docs/                   # Документация

Принципы разработки
-------------------

* **SOLID**: Принципы объектно-ориентированного программирования
* **KISS**: Простота и понятность кода
* **DRY**: Избежание дублирования кода
* **Модульность**: Четкое разделение ответственности

